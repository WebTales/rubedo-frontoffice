<div ng-controller="LanguageMenuController as languageMenuCtrl">
    <div ng-if="languageMenuCtrl.mode" class="btn-group">
        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
            <i><img ng-src="{{languageMenuCtrl.getFlagUrl(languageMenuCtrl.currentLang.flagCode)}}" alt="{{languageMenuCtrl.currentLang.flagCode}}"/></i>
            {{languageMenuCtrl.currentLang.label}} <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu">
            <li ng-repeat="lang in languageMenuCtrl.languages">
                <a ng-click="languageMenuCtrl.changeLang(lang.lang)" href>
                    <i ng-if="languageMenuCtrl.showFlags"><img ng-src="{{languageMenuCtrl.getFlagUrl(lang.flagCode)}}" alt="{{lang.flagCode}}"/></i>
                    {{lang.label}}
                </a>
            </li>
        </ul>
    </div>
    <div ng-if="!languageMenuCtrl.mode" class="btn-group">
        <a ng-repeat="lang in languageMenuCtrl.languages" ng-class="{'disabled':languageMenuCtrl.isDisabled(lang.lang),'btn-primary':languageMenuCtrl.isDisabled(lang.lang)}"
           class="btn btn-default" ng-click="languageMenuCtrl.changeLang(lang.lang)" href>
            <i ng-if="languageMenuCtrl.showFlags"><img ng-src="{{languageMenuCtrl.getFlagUrl(lang.flagCode)}}" alt="{{lang.flagCode}}"/></i>
            {{lang.label}}
        </a>
    </div>

</div>